(this.$WP=this.$WP||[]).push(["mT-Pb2",(e,i)=>{"use strict";var s,t,n,r,u,o,a,c,l,d,m,v=(e,i)=>{var n=s();return s=>n({flowOrigin:"login",forceLogin:i,requireSecure:i,closeX:e,closeOnDocClick:e,extraQueryParams:{contextualMessage:t("Login to continue"),contextualMessageSubheader:t("Plus is only available for Tripadvisor members")},pid:40777,onSuccess:s||void 0})},b=({members:e,nonMembers:i})=>{var{userId:s}=r(l),t=v(!0,!1),n=d(),[b,f]=u(!1),[{data:p,fetching:g},S]=c({query:m,pause:!s});return o(()=>{S({requestPolicy:"network-only"})},[S,s]),o(()=>{s&&b&&!g&&((null==p?void 0:p.OptimusBenefits_isSubscribedToOptimus)?n(e):n(i))},[p,g,e,n,i,b,s]),a(()=>{s?f(!0):t(()=>{f(!0)})},[t,f,s])},f=({children:e,forceLogin:i})=>{var[s,t]=n.useState(!i),u=v(!1,i),{userId:a}=r(l);return o(()=>{a&&s||(u(),t(!0))},[u,s,a]),a&&s?e({userId:a}):null};return[()=>{(m=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"IsSubscribed"},"variableDefinitions":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"OptimusBenefits_isSubscribedToOptimus"},"arguments":[],"directives":[]}]}}],"loc":{"start":0,"end":71}}')).__key=93070980626319,m.loc.source={body:"54a5c6bd378f"},e({OptimusHardGate:f,useOptimusLogin:v,useOptimusLoginNavigation:b})},[e=>s=e.default,e=>t=e.needsLocalization,e=>(n=e.default,r=e.useContext,u=e.useState,o=e.useEffect,a=e.useCallback),e=>c=e.useQuery,e=>l=e.Visitor,e=>d=e.useNavigate]]},["mv7yXI","oPZBqR","cDcdfi","5X2em-","2R4xv2","1yEXVQ"]]);
