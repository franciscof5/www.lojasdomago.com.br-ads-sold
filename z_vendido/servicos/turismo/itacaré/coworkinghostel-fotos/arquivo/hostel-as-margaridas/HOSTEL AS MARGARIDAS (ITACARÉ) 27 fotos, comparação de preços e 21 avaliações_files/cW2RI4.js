(this.$WP=this.$WP||[]).push(["cW2RI4",(e,t)=>{"use strict";var a,n,i,o,r,l,s,c,d,u,_,m,p,f,v,h,b,k,g,T,N,S,O,w,E,I,y,C,A,B,L,R,F,D,P,H,x,W,U,M,V,q,Y,Q,j,J;function K(e){switch(e){case"TOP":return"top";case"NEARBY":return"location";case"ABOUT_TAB":return"about";default:return e.toLowerCase()}}function G(e){p({module:"persistentheader",action:"click",context:K(e)}),"TOP"===e&&window.scrollTo({top:0,behavior:"smooth"});var t=document.getElementById(e);if(t){var a=t.getBoundingClientRect(),n=window.pageYOffset;window.scrollTo({top:a.top+n-90,behavior:"smooth"})}}function X(){var e=window&&window.require;e&&e.defined("ta/Core/TA.Event")&&e(["ta/Core/TA.Event"],e=>{e&&e.on("TabHeaderWC_clickTab",G)})}function Z(){var e=window&&window.require;e&&e.defined("ta/Core/TA.Event")&&e(["ta/Core/TA.Event"],e=>{e&&e.off("TabHeaderWC_clickTab",G)})}var z=({sectionId:e,innerRef:t,current:n})=>{var i=v("hr_back_to_top_persistent_header")||v("hr_back_to_top_tab_deals")||v("hr_back_to_top_tab_photos")||v("hr_back_to_top_tab_deals_bold"),o=C(function(e){switch(e){case"TOP":return v("hr_back_to_top_tab_deals")?I("tabs_hr_deals"):I("tabs_photos_fffff660");case"REVIEWS":return I("tabs_reviews_fffff660");case"LOCATION":return I("tabs_nearby_title_2_fffff660");case"SAFETY":return I("native_poidetails_jumpbar_safety");case"ABOUT_TAB":return I("hr_btf_about_header");case"ANSWERS":return I("q_and_a_title");case"COVID19":return I("covid19_safety_tab");default:return e}}(e));return a("div",{ref:t,key:e,onClick:()=>G(e),className:m(e,"_9toBDZcB",{"_2UO-o4ti":n,_2Y5HtYA9:i})},a("span",{className:"Ip_WRMjQ",title:o},o))},$=({locationId:e,children:t})=>a(A,{query:x,variables:{locationId:e},pause:!e||e<=0},({fetching:e,data:n})=>{var i;if(!e&&n&&n.locations&&n.locations[0]){var o,r,l,s=n.locations[0];i={loading:!1,hotelName:s.name||"",category:s.accommodationCategory||"HOTEL",parentName:(null==s||null==(o=s.parents)||null==(r=o[0])?void 0:r.name)||"",listUrl:(v("hotel_accomm_filter_breakout")&&s.parentUrl?s.parentUrl.replace("-c3",""):s.parentUrl)||"",hotelCount:(null==(l=s.popIndexDetails)?void 0:l.popIndexTotal)||0,location:s}}else i=W;return a(U.Provider,{value:i},t)}),ee=({label:e})=>a("div",{className:"_3e22blA6",onClick:()=>{G("TOP")}},a("span",{className:"_2LkNPDiK"},e),a(E,null)),te=()=>{var{hotelName:e,loading:t}=i(U);return t||!e?null:a(ee,{label:e})},ae=({location:e})=>e?a("div",{className:"_3JHfRs3R"},a(F,{object:e},(e,t)=>a(D,{bookmarkStyle:"flat",bookmarkSize:v("trips_saves_heart")?"24":"20",active:t,onClick:()=>{e()}}))):null,ne=({hotelId:e,isTripsFooterPresent:t,showOptimusLogo:n})=>{var{parentName:o,hotelCount:r,category:l,listUrl:s,loading:c,location:d}=i(U);if(c||!o||!s||!d)return null;var u=((e,t,a)=>{var n;switch(a){case"BB":n=I("hotel_detail_pivot_to_hotel_bb",{0:e});break;case"OTHER":n=I("mobile_detail_header_bar_seeall_speciality_lodging",{0:e});break;case"HOTEL":default:n=t>1?I("mobile_see_all_x_hotels_in_y",{0:""+t,1:e}):I("hotelshortlist_see_all_in_geo_ffffedfd",{0:e})}return y(n)})(o,r,l);return a("div",{className:m({_3Kj4RkcO:!t,irhER4J4:t,_2XG_85Uy:e&&!t})},a("div",{className:m("oMyYFXdD","ui_container")},a("a",{href:s,className:"_3iaFsTME",onClick:e=>f(e,{module:"persistentheader",action:"click",context:"back_to_list",value:0})},a("div",{className:"_1f3RL-Jo"},a(B,{name:"arrow-left",className:"_2Rvgui_b"})),a("div",{className:"_2uyfbB6O",title:u},u)),n?a("div",{className:"_2N-kO23s"},a(R,{typographyVariant:"title-06"})):null),a(L,{renderDesktop:()=>null,renderTablet:()=>null,renderMobile:()=>t?null:a("div",{className:"_2plbCPGA"},a(ae,{location:d}))}))},ie=()=>{var e=v("hr_back_to_top_text_button");return a("div",{className:"TUFqAR1F",onClick:()=>{p({module:"backtotop",action:"click"}),window.scrollTo({top:0,behavior:"smooth"})}},a("div",{className:m("WnFzk3OD","ui_icon single-chevron-up",{_3P3KEFJ1:!e})}),e?a("div",{className:"_3Od7bCZV"},I("scroll_to_top")):null)},oe={stagingProcs:[],ssrQueriesList:[],listingFields:["chevronOffers","textLinkOffers","hiddenOffers","noAvailabilityLink","parentGeoName"],offerFields:["data","providerLogoUrl","strikeThroughText","savePriceText","providerDisplayName","priceText","status"]},re=["ABOUT_TAB","LOCATION","REVIEWS"];function le(e,t){var a=document.getElementById(e),n=document.getElementById(t);return a&&n?a.getBoundingClientRect().top>n.getBoundingClientRect().top?1:-1:0}var se=e=>{var t,n="MOBILE"===e.viewportCategory,[o,u]=r(!1),[_,f]=r(!1),k=l(!1),g=l(null),E=l(0),[I,y]=r(!1),C=s(e=>y(e),[y]),A=i(Y);A.add(S.about);var B,L=[...(B=A,Array.from(B.keys()).filter(e=>!!B.has(e)).sort(le))],R=()=>{if(window.pageYOffset>0&&u(!0),g.current&&g.current instanceof HTMLElement)if(_&&E.current>window.pageYOffset+90)f(!1);else if(!_){var e=g.current.getBoundingClientRect().top;e-90<=0&&(E.current=window.pageYOffset+e,f(!0),p({module:"persistentheader",action:"in_view"}))}};if(c(()=>{R()},[L]),c(()=>{if(!k.current){var e=window.location.hash&&window.location.hash.substring(1);e&&re.indexOf(e)>=0&&G(e),k.current=!0}}),!L.length)return null;var{metaListingData:F}=e,D=T(F),x=null==D||null==(t=D.data)?void 0:t.isOptimusOffer,W=((e,t,n)=>e?N(n)?null:a(q,{metaListingData:n}):t?null:a(H,null))(I,e.disableMobilePersistentHeader,F),U=v("hr_back_to_top_text_button")||v("hr_back_to_top_no_text_button");return a(d,null,a(O,{footerShownCallback:C}),a("div",{ref:g}),o?a(d,null,a(M,null,a("div",{className:m("_3EpETtcR",_?"_3AQVj0Eq":"","persistent_tabs_header")},a(ne,{hotelId:F.hotelId,isTripsFooterPresent:I,showOptimusLogo:x&&!n}),n?W:a(P,{tabSectionIds:L,metaOffer:D,viewport:e.viewportCategory}))),!_&&!n||I||N(F)?null:a(w,null,a("div",{className:m("_2-5HS_eh",_?"_3AQVj0Eq":"yONDMMTA")},U&&n?a(ie,null):null,n?(e=>{var t,n=T(e);return(null==n||null==(t=n.data)?void 0:t.isOptimusOffer)?a(b,{offer:n,mobile:!0}):a(V,{metaListingData:e})})(F):null))):null,a(h,{callback:R,throttle:100}))};return[()=>{z.defaultProps={innerRef:()=>{}},(x=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"ListPivotQuery"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"locationId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"locations"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"locationIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"locationId"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"locationId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"name"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"parents"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"name"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"accommodationCategory"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"popIndexDetails"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"popIndexTotal"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"parentUrl"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"socialStatistics"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"isSaved"},"arguments":[],"directives":[]}]}}]}}]}}],"loc":{"start":0,"end":482}}')).__key=0x65e24c87c65f,x.loc.source={body:"65e24c87c65f"},U=n(W={loading:!1,hotelName:"",category:"HOTEL",parentName:"",listUrl:"",hotelCount:0,location:void 0}),M=u(e=>({locationId:e.page.detailId}))($),P=class extends o{constructor(e){super(e),this.onScroll=()=>{if(this.props.tabSectionIds&&this.props.tabSectionIds[0]){var e=this.props.tabSectionIds.reduce((e,t)=>{var a=document.getElementById(t);return a?a.getBoundingClientRect().top-150>0?e:t:e},this.state.current);this.state.current!==e&&this.setState({current:e})}else this.state.current&&this.setState({current:null})},this.state={current:"ABOUT_TAB"}}componentDidMount(){X()}componentWillUnmount(){Z()}render(){var{current:e}=this.state;return a("div",{className:m("ui_container","_2WghboBo")},"DESKTOP"===this.props.viewport&&a(te,null),"TABLET"===this.props.viewport&&a("div",{className:"_8oEbQWSC"}," ",a(E,null)),a("div",{className:"_1DpGOD4G"},this.props.tabSectionIds.map(t=>a(z,{key:t,sectionId:t,current:e===t}))),a(w,null,a("div",{className:"_2Z5h4o8t _1rEKZowq"},a(b,{offer:this.props.metaOffer}))),a(h,{callback:this.onScroll,throttle:250}))}},H=class extends o{constructor(){super(),this.onScroll=()=>{var e,t="ABOUT_TAB",a=document.getElementById("LOCATION");if(a){var n=a.getBoundingClientRect().top-150;n<=0&&(t="LOCATION",e=n)}var i=document.getElementById("REVIEWS");if(i){var o=i.getBoundingClientRect().top-150;o<=0&&(!e||o>e)&&(t="REVIEWS")}this.state.current!==t&&this.setState({current:t}),this.handleScrollableHeader()},this.handleScrollableHeader=()=>{var e=document.getElementById("HR_PERSISTENT_HEADER"),t=this.state.current;if(e&&t){var a=e.querySelector("."+t);if(!a)return;if(v("hr_back_to_top_persistent_header")){var n=a.offsetLeft,i=e.offsetLeft;if(n&&i){var o=n-i-10;e.scrollTo(o,0)}}else{var r=a.getBoundingClientRect(),l=window.innerWidth&&document&&document.documentElement&&document.documentElement.clientWidth?Math.min(window.innerWidth,document.documentElement.clientWidth):window.innerWidth;if(r.left<a.offsetLeft-1&&r.left<.5*l-1||r.right-l>=1){var s=e.scrollLeft+r.left-.5*l;e.scrollTo({top:0,left:s,behavior:"smooth"})}}}},this.buildPersistentBackToTopTab=()=>v("hr_back_to_top_persistent_header")?a(te,null):v("hr_back_to_top_tab_deals_bold")?a(ee,{label:I("tabs_hr_deals")}):null,this.state={current:"ABOUT_TAB"}}componentDidMount(){this.onScroll&&setTimeout(this.onScroll,0),X()}componentWillUnmount(){Z()}render(){var e=v("hr_back_to_top_tab_deals")||v("hr_back_to_top_tab_photos"),t=v("hr_back_to_top_persistent_header")||v("hr_back_to_top_tab_deals_bold"),n=e||t;return a("div",{className:m("_2WghboBo",{ui_container:!n})},this.buildPersistentBackToTopTab(),a("div",{id:"HR_PERSISTENT_HEADER",className:m("_1DpGOD4G",{_3Xxs8NQR:n})},e?a(z,{key:"TOP",current:!1,sectionId:"TOP"}):null,re.map(e=>a(z,{key:e,current:this.state.current===e,sectionId:e}))),a(h,{callback:this.onScroll,throttle:250}))}},V=_.onUsage(()=>t("3uAKNX"),"default"),q=_.onUsage(()=>t("qvgLTH"),"default"),Y=n(new Set),Q=u(e=>({viewportCategory:e.meta.device.viewportCategory}))(se),j=g(oe,v("mobile_web_phone")?"resp_hf_persistent_footer":"resp_hf_tab_bar_offer",e=>a(Q,{metaListingData:e,disableMobilePersistentHeader:!0})),J=k(oe,v("mobile_web_phone")?"resp_hr_persistent_footer":"resp_hr_tab_bar_offer",e=>a(Q,{metaListingData:e})),e("default",J),e({DEFAULT_TABS_LIST:re,HotelFeaturePersistentHeaderAndFooter:j,SCROLL_OFFSET:90,SectionIdContext:Y})},[e=>(a=e.createElement,n=e.createContext,i=e.useContext,o=e.PureComponent,r=e.useState,l=e.useRef,s=e.useCallback,c=e.useEffect,d=e.Fragment),e=>u=e.connect,e=>_=e.component,e=>m=e.default,e=>(p=e.default,f=e.trackClick),e=>v=e.featureIsEnabled,e=>h=e.default,e=>(b=e.MiniOffer,k=e.bindToHotelReview,g=e.bindToHotelFeature,T=e.getTopOffer,N=e.isNoCommerce),e=>S=e.sectionToElementIdMapping,e=>O=e.default,e=>w=e.default,e=>E=e.default,e=>(I=e.localize,y=e.unescaped),e=>C=e.unescapeHtml,e=>A=e.Query,e=>B=e.Icon,e=>L=e.ViewportCategoryLazy,e=>R=e.default,e=>F=e.QueriedTripFlowSelector,e=>D=e.BookmarkIcon]]},["cDcdfi","h74DsO","pLbCP4","jSLlaY","Jk5sjx","-i3PJS","w4JHTr","ts_HYm","5UpkPg","T18SZK","RnAKr0","0-x_fo","535agn","WkP2XE","5X2em-","_qQcW3","FjihCs","TkeYrn","HZtvHO","vF730k"]]);
