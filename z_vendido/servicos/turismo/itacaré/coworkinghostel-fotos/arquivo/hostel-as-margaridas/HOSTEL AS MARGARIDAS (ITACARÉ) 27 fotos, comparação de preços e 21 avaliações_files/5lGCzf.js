(this.$WP=this.$WP||[]).push(["5lGCzf",(e,a)=>{"use strict";var l,r,t,n,s,u,o,c,d,i,m,_,p,v,f,I,b,L,h,E,S,A,C=({selectedSourceId:e,sourceCounts:a,onSelect:l})=>{var{localize:r}=L(),[s,u]=t(!1);if(!a)return null;var o=[],p={},v=0;Object.keys(a).includes(d.all2)&&a[d.all2]>0?(o.push(d.all2),p[v]=i[d.all2],v++):Object.keys(a).includes(d.all)&&a[d.all]>0&&(o.push(d.all),p[v]=i[d.all],v++),Object.keys(a).includes(d.traveler)&&a[d.traveler]>0&&(o.push(d.traveler),p[v]=i[d.traveler],v++),Object.keys(a).includes(d.mgmt)&&a[d.mgmt]>0&&(o.push(d.mgmt),p[v]=i[d.mgmt],v++),Object.keys(a).includes(d.staff)&&a[d.staff]>0&&(o.push(d.staff),p[v]=i[d.staff]),2===o.length&&(p[0]=p[1],o.shift());var f=o.map(e=>2!==o.length||e!==d.all&&e!==d.all2?n("span",{className:"-JaVb4Y8"},r("mv_photos_from_with_count",{source:m(_(e),r),count:a[e]})):null),I=Number(Object.keys(p).find(a=>p[a]===e))||0;return n("div",{className:"_2YDuyvX-"},n("div",{className:"_2oxepbOK"},n(c,{options:f,selectedIndex:I,onSelect:e=>{var a=p[e];l(a)},open:s,noWrapLabel:!0,autoWidth:!0,colorScheme:"monochrome",openBelow:!0,enableClickToClose:!0,onBlur:()=>u(!1)})))},y=({expanded:e,onClick:a})=>{var{localize:l}=L();return e?n("div",{className:S("_17s_yNzx","_2vmNY4OQ"),onClick:a},l("mv_hide_filters")," ",n(A,{name:"caret-up"})):n("div",{className:"_17s_yNzx",onClick:a},l("mv_see_all_filters")," ",n(A,{name:"caret-down"}))},N=({name:e,count:a,onSelect:l,selected:r,clearMargins:t})=>a?n("div",{className:`_3PY6WK7x ${r?"_3fbkdXv0":""} ${t?"_1wJwcImc":""}`,onClick:l},e," (",a,")"):null,k=({albums:e,selectedTypeId:a,selectedFilterId:l,selectedAlbumId:r,onSelect:o,onExpandChange:c})=>{var d,m=h(),_=e,I=s(!0),[b,L]=t(!1);d=a===i.ALL_INCLUDING_RESTRICTED||a===i.ALL_UNRESTRICTED?p(i.ALL_UNRESTRICTED):p(a);var S=v.has(r)||l===f.PANO_ALBUM;if(S){var A=e.find(e=>e.albumId===l);A&&(_=[A])}var C=e=>()=>o(e),k=_.filter(e=>e.mediaCounts[d]>0);u(()=>{L(!1),I.current=!0,c(I.current)},[r,c]),u(()=>{var e=1===k.length;S||e?(L(!0),I.current=!1):I.current=!0},[r,S,k]);var g=n(y,{expanded:b,onClick:()=>(m(b?E.HIDE_FILTERS_CLICK:E.SEE_ALL_FILTERS_CLICK),L(!b))});if(!b){var T=k.filter(e=>e.albumId===l||l===f.TRAVELER_ALBUM&&e.albumId===f.ALL_ALBUMS);return n("span",null,T.map(e=>n("span",{key:"span-"+e.albumId,className:"_2aImTkfw"},n(N,{key:e.albumId,name:e.name,count:e.mediaCounts[d],onSelect:C(e.albumId),selected:!0,clearMargins:!0})))," ",I.current&&g)}return n("div",{className:"_2aImTkfw"},k.map(e=>{if(r!==f.VIDEO&&e.albumId===f.VIDEO||l!==f.PANO_ALBUM&&e.albumId===f.PANO_ALBUM)return null;var a=e.albumId===l||l===f.TRAVELER_ALBUM&&e.albumId===f.ALL_ALBUMS;return n(N,{key:e.albumId,name:e.name,count:e.mediaCounts[d],onSelect:C(e.albumId),selected:a})})," ",I.current&&g)},g=({selectedSort:e,onSelect:a})=>{var[l,r]=t(!1),s=new Map;s.set(0,I.ML),s.set(1,I.RECENCY);var u=Array.from(s.values()).map(e=>n("span",{className:"qsAy-FHM"},(e=>{switch(e){case I.ML:return n(b,{id:"hr_mediaviewer_filter_by_featured"});case I.RECENCY:return n(b,{id:"hr_mediaviewer_filter_by_recency"});default:return"UNKNOWN"}})(e))),d=o(e=>{for(var a=0;a<s.size;a++)if(s.get(a)===e)return a;throw Error("Unknown sort type: "+e)},[s]);return n("div",{className:"_3K8JKOzi"},n("div",{className:"n2lq_zpz"},n(c,{options:u,selectedIndex:d(e),onSelect:e=>{var l=s.get(e);if(void 0!==l)return a(l);throw Error("Invalid id: "+e)},open:l,noWrapLabel:!0,autoWidth:!0,colorScheme:"monochrome",openBelow:!0,enableClickToClose:!0,onBlur:()=>r(!1)})))},T=(e,a,t,n,s,u,o)=>{var c={locationId:e,albumId:a,client:t,filter:n,configuration:s,photos360Enabled:u},[d]=l({query:r,variables:c,pause:o}),{data:i}=d;return i};return[()=>{e({AlbumPills:k,SortDropdown:g,SourceFilterDropdown:C,useMASFilters:T})},[e=>l=e.useQuery,e=>r=e.quickAlbumsQuery,e=>(t=e.useState,n=e.createElement,s=e.useRef,u=e.useLayoutEffect,o=e.useCallback),e=>c=e.Dropdown,e=>(d=e.mediaGroups,i=e.mediaGroupIds,m=e.getTitleForMediaGroup,_=e.getMediaGroupForString,p=e.getMediaGroupStringForId,v=e.categoryIdsThatAreAlbumIdsSet,f=e.AlbumTypes,I=e.mediaSortType),e=>(b=e.default,L=e.useLocalize),e=>(h=e.useMVTracking,E=e.trackedPageActions),e=>S=e.default,e=>A=e.default]]},["5X2em-","n4rOEs","cDcdfi","BsnOle","wc54S1","0DsHEV","yOERmA","jSLlaY","OMqGt0"]]);
