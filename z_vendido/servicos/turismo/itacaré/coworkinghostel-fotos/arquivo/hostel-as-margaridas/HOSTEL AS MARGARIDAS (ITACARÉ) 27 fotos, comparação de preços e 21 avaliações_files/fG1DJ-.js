(this.$WP=this.$WP||[]).push(["fG1DJ-",(e,a)=>{"use strict";var i,t,n,r,l,d,s,o,m,u,c=()=>{var[,e]=t(u);return i.useCallback((a,i)=>{e({locationId:a,mediaId:i}).then(e=>{var a,i;if(e.error)console.error("SetPrimary call failed: ",e.error);else{var t=null==(a=e.data)||null==(i=a.PrimaryMedia_setStaffPrimaryMedia)?void 0:i[0];"ok"===(null==t?void 0:t.status)?alert("Success! Your new primary photo selection will take effect."):"higherPriorityExist"===(null==t?void 0:t.status)&&(null==t?void 0:t.message)&&alert(`Your curated photo selection has been saved, but it will not be shown. The current primary photo source is ${null==t?void 0:t.message}, which is higher priority.`)}})},[e])},k=({locationId:e,mediaId:a})=>{var{localize:t}=o(),[n,r]=i.useState(!1),l=c(),m=t.string("set_primary_btn_label"),u=t.string("set_primary_btn_success");return i.createElement("div",{className:"_3e9efkIF"},i.createElement(d,{variant:"secondary",size:"small",disabled:n,onClick:()=>{l(e,a),r(!0)}},i.createElement("span",{className:"_3HekUw5X"},i.createElement(s,{name:"star"})),n?u:m))},v=({mediaId:e})=>{var[a,t]=i.useState(!1),n=i.useCallback(()=>{navigator.clipboard.writeText(String(e)).then(()=>t(!0))},[e]);return i.createElement("div",{className:"_3e9efkIF"},i.createElement(d,{variant:"secondary",size:"small",disabled:a,onClick:n},i.createElement("span",{className:"_3HekUw5X"},i.createElement(s,{name:"custom-note"})),a?"Copied":"Copy media ID"))},y=({mediaId:e})=>{var a,[t]=i.useContext(r),{userId:d}=i.useContext(l),[{data:s}]=n({query:m,pause:null===d});if(!(null==s||null==(a=s.authzInfo)?void 0:a.canSetPrimaryPhoto))return null;var o=0;return"Tourism"===t.page?o=t.params.geoId:("Hotel_Review"===t.page||"AttractionProductReview"===t.page&&t.params.detailId)&&(o=t.params.detailId),0===o||e<1?null:i.createElement(i.Fragment,null,i.createElement(k,{locationId:o,mediaId:e}),i.createElement(v,{mediaId:e}))};return[()=>{(m=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"SetPrimaryAuthorizationQuery"},"variableDefinitions":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"authzInfo"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"canSetPrimaryPhoto"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":88}}')).__key=33518228408514,m.loc.source={body:"1e7c121908c2"},(u=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"mutation","name":{"kind":"Name","value":"SetPrimaryMutation"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"locationId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"mediaId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"PrimaryMedia_setStaffPrimaryMedia"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"request"},"value":{"kind":"ListValue","values":[{"kind":"ObjectValue","fields":[{"kind":"ObjectField","name":{"kind":"Name","value":"locationId"},"value":{"kind":"Variable","name":{"kind":"Name","value":"locationId"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"mediaId"},"value":{"kind":"Variable","name":{"kind":"Name","value":"mediaId"}}}]}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"status"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"message"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":199}}')).__key=0xd25945663b2a,u.loc.source={body:"d25945663b2a"},e("default",y),e({SetPrimaryAuthorizationQuery:m,useSetPrimaryCallback:c})},[e=>i=e.default,e=>(t=e.useMutation,n=e.useQuery),e=>(r=e.Route,l=e.Visitor),e=>d=e.default,e=>s=e.default,e=>o=e.useLocalize]]},["cDcdfi","5X2em-","2R4xv2","eFikmI","OMqGt0","0DsHEV"]]);
