(this.$WP=this.$WP||[]).push(["tV1cF7",(e,t)=>{"use strict";var r,i,a,n,s,l,o,d,u,v,c,m,f,b,p,E,g,x,h,y,_,R;function z(e,t){if(null==e)return{};var r,i,a={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(a[r]=e[r]);return a}var L={isRendered:!1,isVisible:!1,isLoaded:!1,isEmpty:!0};function A(e,t,r="",i=!1,u){var[p,E]=s(null),g=l(null),h=o(e=>{E(e)},[]),y=`slot:${e.replace(/\|/g,"-")}:${t}`,{domainName:_}=a(b),R=a(c),A=function(e,t){var r=v(),i=a(x),s=function(e,t){var{userAgentCategory:r,isWebview:i}=a(f);if("MOBILE"===r){if(e.includes("8x8"))return i?"app_external":"web_external";if("adhesion"===t)return"adhesion"}return null}(e,t),l=function(e,t){return"horizon"===t?"horizon":e.includes("728x90")?"banner":"300x250"===e&&t.startsWith("rail")?"shortRail":t.startsWith("rail")?"rail":null}(e,t);return n(()=>{if(!r)return null;var{adBase:e,ppid:a}=r,n=z(r,["adBase","ppid"]);return Object.assign({},n,{},l&&{fluidType:l},{},s&&{mob_adslot:s},{pos:t},i,{adBase:e,ppid:a})},[r,s,l,t,i])}(e,t),[C,O]=s(L),{isLoaded:T,isRendered:w,isVisible:S}=C,k=o(e=>{g.current&&g.current.contentWindow.postMessage(e,_)},[_]),B=null!==A,I=l(!1);I.current=B&&T&&S;var N=n(()=>m(()=>{R&&R.refreshSlot(y)},3e4),[R,y]);return d(()=>{if(w&&p&&(g.current=p.querySelector("iframe"),g.current&&u)){var e=e=>{var t;e.source===(null==(t=g.current)?void 0:t.contentWindow)&&e.data&&"object"==typeof e.data&&u(e.data)};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)}},[w,p,u]),d(()=>{I.current&&N()},[N,r,I]),d(()=>{if(p&&B&&R&&A){var r={id:y,elem:p,size:e,position:t,targeting:A,aboveTheFold:i},{addEventListener:a}=R.createSlot(r),n=a(e=>{O(t=>Object.assign({},t,{},e))});return()=>{R.destroySlot(y),O(L),n()}}},[y,R,p,e,t,A,i,B]),Object.assign({ref:h,id:y,postMessage:k},C)}function C(e,t=""){var[r,i]=s(0);return d(()=>{var t=setInterval(()=>{i(e=>e+1)},e);return()=>clearInterval(t)},[t,i,e]),t+r.toString()}function O(e=""){var[t,r]=s(0);return d(()=>{var e=()=>{"visible"===document.visibilityState&&r(e=>e+1)};return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)},[]),e+t.toString()}function T(){return O()}var w=({size:e="300x250|300x600|160x600",position:t="rail1"})=>{var{viewportCategory:i}=a(f),n=T(),{ref:s,id:l,isEmpty:o}=A(e,t,n,!1);return"MOBILE"!==i?r.createElement("div",{id:l,className:p("_1v0UqRCz","dCNNuUl9",{_1l0VRfHm:o}),ref:s}):null};function S(e,t){var{size:r}=e,i=z(e,["size"]),{size:a}=t,n=z(t,["size"]);return E(i,n)&&E(r,a)}var k={mobile:"300x250|8x8",tablet:"728x90",desktop:"728x90"},B=({size:{mobile:e=k.mobile,tablet:t=k.tablet,desktop:i=k.desktop}=k,position:n="inline1"})=>{var{viewportCategory:s}=a(f),l=T(),o={MOBILE:e,TABLET:t,DESKTOP:i}[s],{ref:d,id:u,isEmpty:v}=A(o||"",n,l,!1);return o?r.createElement("div",{id:u,ref:d,className:p("_1v0UqRCz",{_1l0VRfHm:v})}):null},I={mobile:"300x250|8x8",tablet:"728x90",desktop:"970x250|728x90"},N=({size:{mobile:e=I.mobile,tablet:t=I.tablet,desktop:i=I.desktop}=I})=>{var{viewportCategory:n}=a(f),s=T(),l={MOBILE:e,TABLET:t,DESKTOP:i}[n],{ref:o,id:d,isEmpty:u}=A(l||"","footer",s,!1);return l?r.createElement("div",{id:d,ref:o,className:p("_1v0UqRCz",{_1l0VRfHm:u})}):null},V={mobile:null,tablet:"728x90",desktop:"728x90|970x66"},P=()=>{var{cdnPrefix:e}=a(b),t=e+"/img2/brand_refresh/Tripadvisor_lockup_horizontal.svg";return r.createElement("div",{className:p("_1v0UqRCz","_3I-_3D7A")},r.createElement("div",{className:"AI8ACRmB"},r.createElement("img",{src:t,alt:"Tripadvisor"})),r.createElement("div",{className:"x22W38y0"},r.createElement(g,{id:"brand_save_money_we_search_200"})))},U=({children:e=r.createElement(P,null),reserveHeight:t=!0,size:{mobile:i=V.mobile,tablet:n=V.tablet,desktop:s=V.desktop}=V})=>{var{viewportCategory:l}=a(f),o=T(),d={MOBILE:i,TABLET:n,DESKTOP:s}[l],{ref:u,id:v,isRendered:c,isEmpty:m}=A(d||"","header",o,!0);return d?r.createElement("div",{className:p({_35dOU9f0:t})},t&&c&&m&&e,r.createElement("div",{id:v,ref:u,className:p("_1v0UqRCz",{_1l0VRfHm:c&&m})})):null};return e({useAd:A,useInterval:C,usePageVisibility:O,useRefreshKey:T}),[()=>{x=i({}),h=u(w),y=u(B,S),_=u(N,S),R=u(U,S),e({AdTargeting:x,FooterAd:_,HeaderAd:R,InlineAd:y,RailAd:h,useAd:A,useInterval:C,usePageVisibility:O,useRefreshKey:T})},[e=>(r=e.default,i=e.createContext,a=e.useContext,n=e.useMemo,s=e.useState,l=e.useRef,o=e.useCallback,d=e.useEffect,u=e.memo),e=>(v=e.usePageTargeting,c=e.AdServer),e=>m=e.default,e=>(f=e.Device,b=e.Environment),e=>p=e.default,e=>E=e.shallowEquals,e=>g=e.UnsafeLocalize]]},["cDcdfi","5-GvUO","gsKhh7","2R4xv2","jSLlaY","XtxvfD","0DsHEV"]]);
