(this.$WP=this.$WP||[]).push(["cBPvJq",(e,i)=>{"use strict";var a,n,l,t,s,d,o,r,u,m,c,v,k,N,_,p,y,f,b,g,w,h,I=({locationId:e,dismiss:i})=>{var t,s,o=a(k).userId||"",[{data:r}]=c({query:b,variables:{userId:String(o)}}),m=(null==r||null==(t=r.userData)||null==(s=t[0])?void 0:s.displayName)||"";return n(l,null,n("div",{className:"_2lr6QCK4"},n("div",{className:"_2fttpANQ"},n(d,{name:"lock",color:"primaryIcon"}))),n("div",{className:"_2tr_tQhj",role:"link",tabIndex:0,onClick:i,onKeyDown:()=>i(null)},n("div",{className:"_2R2sCStZ"},n(d,{name:"times",color:"primaryIcon"}))),n("div",{className:"_1UpMDR1t"},n(u,{id:"hrm_flyoutupsell_hr",args:{sUserDisplayName:""+m}})),n("div",{className:"_3_N478Nt"},n("a",{href:`/business/reputationpro?detail=${e}&mcid=65734`,className:"_2-YvEE5I",onClick:()=>i(null,"click_through")},n(u,{id:"hrm_flyoutupsell_cta_tryitforfree"})," ")))},D=({locationId:e,dismiss:i})=>{var{localize:a}=m();return n(l,null,n("div",{className:"_2VJmS_MG"},n("div",{className:"_2fttpANQ"},n(d,{name:"lock",color:"primaryIcon"}))),n("div",{className:"_2nTBFf50",role:"link",tabIndex:0,onClick:i,onKeyDown:()=>i(null)},n("div",{className:"_2R2sCStZ"},n(d,{name:"times",color:"primaryIcon"}))),n("div",{className:"_31lfy3de"},a("hrm_flyoutupsell_managementcenter")),n("div",{className:"_1-ST1Vh8"},n("a",{href:`/business/reputationpro?detail=${e}&mcid=65734`,className:"gPYD3ro6",onClick:()=>i(null,"click_through")},a("hrm_flyoutupsell_cta_starttrial"))))},E=({locationId:e,dismiss:i})=>{var{localize:a}=m();return n(l,null,n("div",{className:"_2VJmS_MG"},n("div",{className:"_2fttpANQ"},n(d,{name:"lock",color:"primaryIcon"}))),n("div",{className:"_2nTBFf50",role:"link",tabIndex:0,onClick:i,onKeyDown:()=>i(null)},n("div",{className:"_2R2sCStZ"},n(d,{name:"times",color:"primaryIcon"}))),n("div",{className:"_31lfy3de"},a("hrm_flyoutupsell_ownerresponse")),n("div",{className:"_1-ST1Vh8"},n("a",{href:`/HotelsProductCart?uppc=rm&detail=${e}&mcid=65733&discountCode=WQNA5O`,className:"gPYD3ro6",onClick:()=>i(null,"click_through")},a("hrm_flyoutupsell_cta_starttrial"))))},F=({locationId:e,dismiss:i})=>{var{localize:a}=m();return n(l,null,n("div",{className:"_2VJmS_MG"},n("div",{className:"_2fttpANQ"},n(d,{name:"lock",color:"primaryIcon"}))),n("div",{className:"_2nTBFf50",role:"link",tabIndex:0,onClick:i,onKeyDown:()=>i(null)},n("div",{className:"_2R2sCStZ"},n(d,{name:"times",color:"primaryIcon"}))),n("div",{className:"_31lfy3de"},a("hrm_flyoutupsell_reviewcollection")),n("div",{className:"_1-ST1Vh8"},n("a",{href:`/HotelsProductCart?uppc=rm&detail=${e}&mcid=65733&discountCode=WQNA5O`,className:"gPYD3ro6",onClick:()=>i(null,"click_through")},a("hrm_flyoutupsell_cta_starttrial"))))},V=(e,i,a)=>{var n=null;return g.forEach(l=>{l&&!n&&l.name===e&&l.pageName===i&&l.area===a&&(n=l)}),n},S=({locationId:e,ctaInfo:i,childRender:a,suppressBackdrop:d})=>{var o,r,u,m,k=i&&""+i.viewEvent||"",{viewEventLimit:b}=i,g=i&&""+i.dismissEvent||"",{dismissEventLimit:I}=i,D=p(e),[{data:E,fetching:F},V]=c({query:w,variables:{viewEvent:k,dismissEvent:g,rangeStart:new Date(0).toISOString(),rangeEnd:new Date(3e3,0,1).toISOString(),locationId:e}}),S=(null==E||null==(o=E.userEventCounts)?void 0:o[0])||0,O=(null==E||null==(r=E.userEventCounts)?void 0:r[1])||0,[C,R]=t(0),[,M]=v(h),T=(a,n)=>{if(a&&a.stopPropagation(),!(C>=3)){R(3),M({eventKey:g}).then(()=>V({requestPolicy:"network-only"}));var l=n||"flyout_dismissed";y(l,f(e,l,i.trackingModule))}},L=!D&&!F&&E&&(null==(u=E.locationInfo)||null==(m=u[0])?void 0:m.hasAvailableProvider)&&S<b&&O<I;s(()=>{L&&C<1&&(R(d?2:1),M({eventKey:k}),y("flyout_shown",f(e,"flyout_shown",i.trackingModule)))},[L,C,M,d,k,e,i.trackingModule]);var A=L&&C<3||C>=1&&C<=2,P=A&&!d&&2!==C,j=a(A,P,T),K=P?n(_,{callback:()=>{1===C&&R(2)},throttle:100}):null,H=!A||d?null:n(N,{event:"click",callback:()=>{T(null)}});return n(l,null,j,K,H)},O=e=>e.stopPropagation(),C=({locationId:e,name:i,pageName:a,area:t,isBTF:s,children:r})=>{var u=V(i,a,t);return u?n(S,{locationId:e,ctaInfo:u,childRender:(i,a,t)=>n(l,null,a?n("div",{className:"_2NxcUbuY",onClick:t,onKeyDown:()=>t(null),onMouseOver:O,onFocus:O,"aria-hidden":"true"}):null,n("div",{className:o(i&&"VYduPXJZ",!!s&&"_3JujvCjb")},r),i?n("div",{className:"_2y-Y9rgo",onClick:O,onKeyDown:O,onMouseOver:O,onFocus:O,"aria-hidden":"true"},n("div",{className:o("UUsDJP-0",!!s&&"_3JujvCjb")},n("div",{className:"_7LOnABzk"},n(d,{name:"caret-up"})),u.renderFunc(e,t))):null),suppressBackdrop:s}):r},R=e=>e.stopPropagation(),M=({locationId:e,name:i,pageName:a,children:t})=>{var s=V(i,a,"SIDE_NAV");return s?n(S,{locationId:e,ctaInfo:s,childRender:(i,a,o)=>n(l,null,t,a?n("div",{className:"_3Duvxawq",onClick:o,onKeyDown:()=>o(null),onMouseOver:R,onFocus:R,"aria-hidden":"true"}):null,i?n("div",{className:"yB16l04P",onClick:R,onKeyDown:R,onMouseOver:R,onFocus:R,"aria-hidden":"true"},n("div",{className:"_2Hjub1DI"},n("div",{className:"_3H8n6dcT"},n(d,{name:"caret-left"})),s.renderFunc(e,o))):null)}):t},T=e=>e.stopPropagation(),L=({locationId:e,name:i,pageName:a,children:t})=>{var s=V(i,a,"GLOBAL_NAV");return s?n(S,{locationId:e,ctaInfo:s,childRender:(i,a,o)=>n(l,null,t,a?n("div",{className:"Owfk_C4o",onClick:o,onKeyDown:()=>o(null),onMouseOver:T,onFocus:T,"aria-hidden":"true"}):null,i?n("div",{className:"V6RM88qi",onClick:T,onKeyDown:T,onMouseOver:T,onFocus:T,"aria-hidden":"true"},n("div",{className:"_1d2xDX_M"},n("div",{className:"WUT2V9rK"},n(d,{name:"caret-up"})),s.renderFunc(e,o))):null)}):t},A=({locationId:e,isOwner:i,children:t})=>{var s=e=>e.stopPropagation(),r=a(k).userId||"",u=!p(e)&&i&&""!==r,m=V("HotelReviewFlyOut","HotelReview","RATING_CONTAINER");return m?n(S,{locationId:e,ctaInfo:m,childRender:(i,a,r)=>n(l,null,a?n("div",{className:"_1uhDvcnF",onClick:r,onKeyDown:()=>r(null),onFocus:s,onMouseOver:s,"aria-hidden":"true"}):null,n("div",{className:o(i&&"_21lRIivn")},t),i&&u?n("div",{className:"yEJO7FEp",onClick:s,onKeyDown:s,onFocus:s,onMouseOver:s,"aria-hidden":"true"},n("div",{className:o("_1gH_fNH3")},n("div",{className:"-__pSu8j"},n(d,{name:"caret-up"})),m.renderFunc(e,r))):null),suppressBackdrop:!u}):t};return[()=>{(b=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"UserDataQuery"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"userId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","alias":{"kind":"Name","value":"userData"},"name":{"kind":"Name","value":"MemberProfile_getMemberProfiles"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"userIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"userId"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"displayName"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":136}}')).__key=0xd091a9c12d0b,b.loc.source={body:"d091a9c12d0b"},g=[{pageName:"HotelsManagementCenter",name:r("member_support_reviews"),area:"GLOBAL_NAV",viewEvent:"mcFlyoutView",viewEventLimit:5,dismissEvent:"mcFlyoutDismiss",dismissEventLimit:1,trackingModule:"hrm_flyouts_mc_nav",renderFunc:(e,i)=>n(D,{locationId:e,dismiss:i})},{pageName:"HotelsManagementCenter",name:"hotels_nav_respond_to_reviews",area:"MOBILE_NAV_BTF",viewEvent:"mcFlyoutView",viewEventLimit:5,dismissEvent:"mcFlyoutDismiss",dismissEventLimit:1,trackingModule:"hrm_flyouts_mc_btf",renderFunc:(e,i)=>n(D,{locationId:e,dismiss:i})},{pageName:"OwnerResponse",name:"tab_review_response",area:"SIDE_NAV",viewEvent:"ownerResponseFlyoutView",viewEventLimit:5,dismissEvent:"ownerResponseFlyoutDismiss",dismissEventLimit:1,trackingModule:"hrm_flyouts_owner_response",renderFunc:(e,i)=>n(E,{locationId:e,dismiss:i})},{pageName:"ReviewCollectionHome",name:"hrm_leftnav_rex_lander",area:"SIDE_NAV",viewEvent:"reviewCollectionFlyoutView",viewEventLimit:5,dismissEvent:"reviewCollectionFlyoutDismiss",dismissEventLimit:1,trackingModule:"hrm_flyouts_review_collection",renderFunc:(e,i)=>n(F,{locationId:e,dismiss:i})},{pageName:"HotelReview",name:"HotelReviewFlyOut",area:"RATING_CONTAINER",viewEvent:"hotelReviewFlyoutView",viewEventLimit:5,dismissEvent:"hotelReviewFlyoutDismiss",dismissEventLimit:1,trackingModule:"hrm_flyouts_hotel_review",renderFunc:(e,i)=>n(I,{locationId:e,dismiss:i})}],(w=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"UpsellGate"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"viewEvent"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"dismissEvent"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"rangeEnd"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"rangeStart"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"locationId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","alias":{"kind":"Name","value":"userEventCounts"},"name":{"kind":"Name","value":"ReputationOwnerFeatures_getUserEventCounts"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"request"},"value":{"kind":"ListValue","values":[{"kind":"ObjectValue","fields":[{"kind":"ObjectField","name":{"kind":"Name","value":"event"},"value":{"kind":"Variable","name":{"kind":"Name","value":"viewEvent"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"range"},"value":{"kind":"ObjectValue","fields":[{"kind":"ObjectField","name":{"kind":"Name","value":"start"},"value":{"kind":"Variable","name":{"kind":"Name","value":"rangeStart"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"end"},"value":{"kind":"Variable","name":{"kind":"Name","value":"rangeEnd"}}}]}}]},{"kind":"ObjectValue","fields":[{"kind":"ObjectField","name":{"kind":"Name","value":"event"},"value":{"kind":"Variable","name":{"kind":"Name","value":"dismissEvent"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"range"},"value":{"kind":"ObjectValue","fields":[{"kind":"ObjectField","name":{"kind":"Name","value":"start"},"value":{"kind":"Variable","name":{"kind":"Name","value":"rangeStart"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"end"},"value":{"kind":"Variable","name":{"kind":"Name","value":"rangeEnd"}}}]}}]}]}}],"directives":[]},{"kind":"Field","alias":{"kind":"Name","value":"locationInfo"},"name":{"kind":"Name","value":"RCOLL_locationInfo"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"locationIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"locationId"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"hasAvailableProvider"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":478}}')).__key=0x5f247355c86a,w.loc.source={body:"5f247355c86a"},(h=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"mutation","name":{"kind":"Name","value":"SaveUserEvent"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"eventKey"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"ReputationOwnerFeatures_addUserEvents"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"request"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"eventKey"}}]}}],"directives":[]}]}}],"loc":{"start":0,"end":117}}')).__key=53031141513364,h.loc.source={body:"303b465a1894"},e({DownwardCtaPosition:C,GlobalNavCtaPosition:L,HotelReviewFlyOut:A,SideNavCtaPosition:M})},[e=>(a=e.useContext,n=e.createElement,l=e.Fragment,t=e.useState,s=e.useEffect),e=>d=e.default,e=>o=e.default,e=>r=e.localize,e=>(u=e.default,m=e.useLocalize),e=>(c=e.useQuery,v=e.useMutation),e=>k=e.Visitor,e=>N=e.default,e=>_=e.default,e=>p=e.useHrmSubscriberCheck,e=>(y=e.track,f=e.getInfoContext)]]},["cDcdfi","OMqGt0","jSLlaY","535agn","0DsHEV","5X2em-","2R4xv2","Dg5_-9","w4JHTr","iZ1Bsx","sb81vR"]]);
