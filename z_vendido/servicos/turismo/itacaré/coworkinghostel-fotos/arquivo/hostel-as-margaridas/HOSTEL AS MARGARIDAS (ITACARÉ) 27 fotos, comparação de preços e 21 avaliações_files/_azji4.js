(this.$WP=this.$WP||[]).push(["_azji4",(e,a)=>{"use strict";var t,r,i,n,d,l,o,s,u,c,m,g,I,b,p,y,O,v,S,f,k=({businessContact:e,mobileOffer:a,desktopOffer:t,adSlot:i,albumId:n,categoryId:d,typeId:l,mediaId:o,referenceMediaId:s,locationId:u,locationName:c,actionHandler:m,enablePopupFooter:g,hideMASQuickAlbums:b,disableControls:O,getShareUrlForMedia:v,galleryRenderer:S,fullscreenRenderer:f,sort:k,customMobileButtonMenus:C,quickAlbumsConfiguration:A,queryClientOverride:R,heroDataStrategyOverride:h,pageDataStrategyOverride:M})=>r(I,{mobileRenderer:()=>r(y,{businessContact:e,offer:a,actionHandler:m,categoryId:d,albumId:n,typeId:l,mediaId:o,referenceMediaId:s,locationId:u,getShareUrlForMedia:v,scrollHideCommerce:g,skipQuickAlbums:b,disableControls:O,customButtonMenus:C,galleryRendererOverride:S,fullscreenRendererOverride:f,sort:k,quickAlbumsConfiguration:A,queryClientOverride:R,heroDataStrategyOverride:h,pageDataStrategyOverride:M}),desktopRenderer:()=>r(p,{businessContact:e,offer:t,adSlot:i,actionHandler:m,categoryId:d,albumId:n,typeId:l,mediaId:o,referenceMediaId:s,locationId:u,locationName:c,getShareUrlForMedia:v,skipQuickAlbums:b,disableControls:O,galleryRendererOverride:S,fullscreenRendererOverride:f,sort:k,quickAlbumsConfiguration:A,queryClientOverride:R,heroDataStrategyOverride:h,pageDataStrategyOverride:M})}),C=e=>{var a=(null==e?void 0:e.albumId)||m;return s({albumId:a,mediaId:null==e?void 0:e.mediaId,categoryId:a})},A=!1,R=!1,h=e=>{var{locationId:a,initialSettings:t,hideHeaderControls:s,hideMASQuickAlbums:m,mobilePortraitFooterSlot:I,enablePopupAnimationMobilePortraitFooter:b,mobileLandscapeHeaderSlot:p,desktopHeaderRightSlot:y,businessContact:f,leftRailSlot:k,onClose:h,actionHandler:M,getShareUrlForMedia:N,galleryRenderer:E,fullscreenRenderer:L,customMobileButtonMenus:D,routeFragmentIdentifier:T,queryClientOverride:_,heroDataStrategyOverride:F,pageDataStrategyOverride:U,quickAlbumsConfiguration:q}=e,[H,j]=i({isOpen:!1,shouldToggle:!1}),P=n((e,a)=>{try{M&&"INITIAL_ALBUM_UPDATE"!==a.type&&M(a)}catch(e){a.type}switch(a.type){case"ROUTE_NAVIGATE":return Object.assign({},a.newState,{sort:e.sort});case"ALBUM":return Object.assign({},e,{albumId:a.albumId,typeId:u(),categoryId:a.categoryId?a.categoryId:a.albumId,mediaId:null});case"FULLSCREEN_NAV":case"GALLERY_CLICK":return a.newMedia.media?Object.assign({},e,{mediaId:{id:a.newMedia.media.mediaId,type:a.newMedia.media.type}}):e;case"FULLSCREEN_CLOSE":return Object.assign({},e,{mediaId:null});case"CATEGORY_CHANGE":return Object.assign({},e,{categoryId:a.categoryId});case"SOURCE_CHANGE":return Object.assign({},e,{typeId:a.typeId});case"INVALIDATE_REFERENCE_MEDIA":return Object.assign({},e,{mediaId:null});case"SORT":return Object.assign({},e,{sort:a.sort});case"CLOSE":return j(e=>e.isOpen?{isOpen:!0,shouldToggle:!0}:e),e;case"ERROR":return S;default:return e}},[M]),[w,V]=d(P,C(t)),B=null!=T,{clearFragment:Q,initialRouteState:G}=g(a,B&&H.isOpen?w:null,T,V);l(()=>{t&&!H.isOpen&&(V({type:c.routeNavigate,newState:C(t)}),j({isOpen:!1,shouldToggle:!0}))},[t,j,H]),l(()=>{!B||!G||t||H.isOpen||R||A||(V({type:c.routeNavigate,newState:G}),j({isOpen:!1,shouldToggle:!0}))},[B,G,t,H,j]),l(()=>{H.shouldToggle&&(H.isOpen&&A?(j({isOpen:!1,shouldToggle:!1}),A=!1):H.isOpen||A||(A=!0,R=!0,j({isOpen:!0,shouldToggle:!1})))},[H,j]),l(()=>{H.isOpen&&H.shouldToggle&&(B&&Q(),h&&h())},[H,h,B,Q]);var z=e=>e&&p?p():!e&&I?I():null;if(!H.isOpen)return null;var W=(null==t?void 0:t.albumId)||(null==G?void 0:G.albumId),X=(null==t?void 0:t.mediaId)||(null==G?void 0:G.mediaId);return r(o,{query:v,variables:{locationId:a}},({data:e})=>{var t,i,n=null==e||null==(t=e.locations)||null==(i=t[0])?void 0:i.name;return r(O,{enablePopupFooter:b,businessContact:f,mobileOffer:(p||I)&&z,desktopOffer:y,adSlot:k,albumId:w.albumId,categoryId:w.categoryId,typeId:w.typeId,mediaId:w.mediaId,referenceMediaId:w.albumId===W?X:null,locationId:a,locationName:n,actionHandler:V,hideMASQuickAlbums:m,disableControls:s,getShareUrlForMedia:N,galleryRenderer:E,fullscreenRenderer:L,sort:w.sort,customMobileButtonMenus:D,quickAlbumsConfiguration:q,queryClientOverride:_,heroDataStrategyOverride:F,pageDataStrategyOverride:U})})};return[()=>{p=b.onUsage(()=>a("_azji4/35NN-R"),"default"),y=b.onUsage(()=>a("_azji4/Xncs_3"),"default"),O=t(k),(v=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"MVLocationQuery"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"locationId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"locations"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"locationIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"locationId"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"name"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"mediaCount"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":123}}')).__key=0x5d0024840f3b,v.loc.source={body:"5d0024840f3b"},S=C(),f=t(h),e("default",f)},[e=>(t=e.memo,r=e.createElement,i=e.useState,n=e.useCallback,d=e.useReducer,l=e.useEffect),e=>o=e.Query,e=>(s=e.buildDefaultState,u=e.getCurrentAllMediaGroupTypeId,c=e.actions,m=e.ALL_ALBUM),e=>g=e.useRouteHandler,e=>I=e.default,e=>b=e.component]]},["cDcdfi","5X2em-","wc54S1","eh0n4_","RZRW7o","pLbCP4"]]);
