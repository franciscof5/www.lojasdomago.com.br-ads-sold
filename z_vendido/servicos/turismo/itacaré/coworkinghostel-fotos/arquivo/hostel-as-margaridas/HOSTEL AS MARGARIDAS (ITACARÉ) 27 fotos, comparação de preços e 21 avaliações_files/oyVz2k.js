(this.$WP=this.$WP||[]).push(["oyVz2k",(e,l)=>{"use strict";var i,t,a,s,n,o,u,c,r,d,m,h,_,f,b,v=e=>e+"px",N=({quickAlbums:e,contentFocus:l,onSelect:o,selectedId:d,mode:m,onShowAll:h,topBar:_,children:f,isLandscape:b,scrollPosition:N})=>{var p=a(),k=a(),{localize:A}=u(),g=((e=0)=>{var[l,a]=i([0,0,0]);t(()=>{var i=l[0]>e?-1:1,t=i<0&&l[1]>0;a([e,i,t?e:l[2]])},[e]);var[s,n,o]=l,u="no-collapse";return s>=48&&(u="album-collapse"),s>=92&&(u="full-collapse"),"full-collapse"===u&&n<0&&Math.abs(s-o)>10&&(u="album-collapse"),u})(N),{ready:w,width:D,height:M}=c(p),S=null;if(t(()=>{k.current&&k.current.scrollIntoView({inline:"center"})},[d,m]),e){var q=["_2LRDLXDB"],y=s(n,null,s("div",{className:"_1I45UXXn"},A.string("media_viewer_album_title")),"showAll"!==m&&s("div",{onTouchEnd:h,onClick:h,className:"_3l1q30C4"},A.string("media_viewer_quick_albums_see_all")));if(w){var C=148,E=92,P={top:0,left:0},L=!0;if("none"!==m&&e&&0!==e.length)if("showAll"===m){q.push("_2_pbUfzL");for(var x=5,F=D-24,I=F/x;I<115&&x>1;)I=F/--x;C=Math.floor(F/x),E=Math.floor(Math.max(92,.618*C))}else if(b)q.push("_3SNXUB_q"),P=Object.assign({},P,{width:v(D),height:v(E)}),E*e.length<M-48+E/2&&q.push("_1f6ZwVS4");else{switch(q.push("_1sXzo0DF"),g){case"album-collapse":q.push("_1gLi37Ii");break;case"full-collapse":q.push("cr69cSRN")}C=Math.min(148,D/2.382),P=Object.assign({},P,{width:v(C),maxHeight:v(E)}),C*e.length<D-16+C/2&&q.push("_1f6ZwVS4")}else L=!1;if(L){var R=e.map(e=>s("div",{key:e.id,className:"catK0D5E",style:P,ref:e.id===d?k:null},s(r,{glassMode:!0,titleNode:e.titleNode,thumbnailNode:e.thumbnailNode,selected:e.id===d,onSelect:()=>o(e.id)})));S=s("div",{className:""+q.join(" ")},s("div",{className:"_2xPFSJpa"},s("div",{className:"_1NeNrC1v"},y),s("div",{className:"_3VWKzm3L"},s("div",{className:"_2EjPMQ_w"},R))))}}}return s("div",{className:"_1vIyt1mw "+(l?"_1xBMqcgO":""),ref:p},s("div",{key:"content-bar",className:"F9H4o8oU"},_),s("div",{key:"content",className:"_2UZeOME_"},S,s("div",{className:"_2f0Re4aF"},f)))},p=()=>{},k=({quickAlbumsDefinition:e,selectedAlbumId:l,onSelect:t,titleNode:a,quickAlbumsMarginBottom:n,shouldTruncate:o,onSeeAll:c,onSeeFewer:r})=>{var h,_,{localize:f}=u(),[v,N]=i(!1),[p,k]=i(null==e?void 0:e.length),[A,g]=i(!1);if(!e)return null;v&&o&&(h=s("span",{className:"_3XRx_R26",onClick:()=>{g(!0),c&&c()}},f.string("media_viewer_quick_albums_see_all")+" "," ",s(m,{name:"caret-down"}))),v&&o&&(_=s("span",{className:d("_3XRx_R26","KL4wLmPq"),onClick:()=>{g(!1),r&&r()}},f.string("media_viewer_quick_albums_see_fewer")+" "," ",s(m,{name:"caret-up"})));var w=e.length;return s(b,A?{quickAlbumsDefinition:e,selectedAlbumId:l,onSelect:t,titleNode:a,footerNode:_,quickAlbumsMarginBottom:n,maxQuickAlbumsDisplayedCount:p,truncate:!1}:{quickAlbumsDefinition:e,selectedAlbumId:l,onSelect:t,titleNode:a,footerNode:h,quickAlbumsMarginBottom:n,maxQuickAlbumsDisplayedCount:p,truncate:v&&o,ref:e=>{if(e&&o){var l=e.clientHeight,i=e.clientWidth;if(e.firstElementChild&&w){var t,a,s=(null==(t=e.firstElementChild)?void 0:t.clientHeight)+n,u=null==(a=e.firstElementChild)?void 0:a.clientWidth,c=Math.floor(i/u),r=w/c,d=Math.floor(l/s);r>d?(N(!0),k(d*c)):(N(!1),k(w))}}}})};return[()=>{h=[172,48],_=[0,184],N.defaultProps={onSelect:()=>{},isLandscape:!1,scrollPosition:0,contentFocus:!1},f={id:404404404,titleNode:s(n,null),thumbnailNode:s(n,null)},(b=o(({quickAlbumsDefinition:e,selectedAlbumId:l,onSelect:i=p,titleNode:t,footerNode:a,truncate:n,maxQuickAlbumsDisplayedCount:o,quickAlbumsMarginBottom:u},c)=>{if(!e)return null;var d=e;return n&&o&&(d=e.slice(0,o)),n||e.length%2==0||e.push(f),s("div",{className:"_2XFaQpx-"},t?s("div",{className:"_1fECMxav"},t):null,s("div",{className:"_3Gwl69tU "+(n?"Tk1isDED":""),ref:c},d&&d.map(e=>{return s("div",{className:"_2yPHPl45",style:{marginBottom:u||0,visibility:404404404===e.id?"hidden":"visible"},key:e.id},s(r,{titleNode:e.titleNode,thumbnailNode:e.thumbnailNode,selected:e.id===l,onSelect:(t=e.id,()=>i(t))}));var t})),a||null)})).displayName="QuickAlbumsFluidContainer",e({LANDSCAPE_MODE_PADDING:h,PORTRAIT_MODE_PADDING:_,QuickAlbumsFluidContainer:b,QuickAlbumsMobileLayout:N,QuickAlbumsSeeAllToggleableContainer:k})},[e=>(i=e.useState,t=e.useEffect,a=e.useRef,s=e.createElement,n=e.Fragment,o=e.forwardRef),e=>u=e.useLocalize,e=>c=e.useFillParent,e=>r=e.QuickAlbum,e=>d=e.default,e=>m=e.default]]},["cDcdfi","0DsHEV","Bk-fue","UuUmq4","jSLlaY","OMqGt0"]]);
