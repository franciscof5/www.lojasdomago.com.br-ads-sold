(this.$WP=this.$WP||[]).push(["1yAwqb",(e,l)=>{"use strict";var t,o,s,n,a,r,i,d,c,u,p,m,b,I,M,A,C,L,_,f,h,y=({onBack:e,titleText:l})=>{var{localize:o}=h();return t("div",{className:"_1NNb21_D"},t("div",{className:"_6OECxvR8"},t("div",{className:"_2arR8z10",onClick:l=>{e&&e(),l.stopPropagation(),l.preventDefault()}},t(f,{name:"single-chevron-left"}))),t("div",{className:"_393BZ5Sz"},t("div",{className:"_1SI_b6JH"},l||o.string("media_viewer_title_photos"))))},E={albumSelect:"ALBUM",initialAlbumUpdate:"INITIAL_ALBUM_UPDATE",setHeaderMode:"SET_HEADER_MODE",scroll:"SCROLL",galleryItemClicked:"GALLERY_CLICK",fullscreenNav:"FULLSCREEN_NAV",fullscreenClose:"FULLSCREEN_CLOSE",close:"CLOSE"},v={headerMode:"full",selectedIndex:-1,scrollPosition:0},S=e=>{var{galleryRenderer:l,fullRenderer:f,totalCount:h,quickAlbumsDefinition:S,selectedAlbumId:g,selectedMediaId:N,disableFullscreenNavigation:D,disableFullscreenClose:O,actionHandler:T,titleText:R,titleNode:k,noHistoryManipulation:P,close:x,mobileButtonMenus:w,layoutStyle:H,useHero:U,forceV3:B,isLowContent:F}=e;L(!0);var{isRtl:j}=o(_).locale,V=b().landscape&&!j,q=s(!1),[G,z]=n((e,l)=>{try{T&&"INITIAL_ALBUM_UPDATE"!==l.type&&T(l)}catch(e){}switch(l.type){case E.albumSelect:return Object.assign({},e,{albumId:l.albumId,headerMode:"showAll"===e.headerMode?"full":e.headerMode,selectedIndex:-1,scrollPositon:0});case E.setHeaderMode:return Object.assign({},e,{headerMode:l.headerMode});case E.initialAlbumUpdate:return Object.assign({},e,{albumId:l.initialAlbumId});case E.galleryItemClicked:return Object.assign({},e,{selectedIndex:l.selectedIndex});case E.scroll:return Object.assign({},e,{scrollPosition:l.position});case E.fullscreenClose:return Object.assign({},e,{selectedIndex:-1});default:return e}},Object.assign({},v)),{headerMode:W,selectedIndex:J,scrollPosition:Q}=G,Y=s(Object.assign({},I)),$=a(e=>{Y.current=e},[]);r(()=>{q.current?(Y.current.backToTop(),Y.current.closeDetail()):q.current=!0},[g]),r(()=>{N||Y.current.closeDetail()},[N]),r(()=>{S&&0!==S.length?"none"===W&&z({type:E.setHeaderMode,headerMode:"full"}):z({type:E.setHeaderMode,headerMode:"none"})},[S,W]);var K=a(e=>{z({type:E.scroll,position:e})},[]),Z=a(e=>{z({type:E.fullscreenClose,closeType:e})},[]),X=a((e,l,t)=>{z({type:E.galleryItemClicked,selectedIndex:e,offset:l,mode:t})},[]),ee=a(e=>{z({type:E.fullscreenNav,newIndex:e})},[]),le="grid"===H?["VVV"]:A,te="grid"===H?1/4:C,[oe,se]=V?p:m;"none"===W&&(V?oe=0:se=0);var ne=i(()=>t(M,{heroRenderer:f,itemRenderer:l,showClose:!O,totalItems:h||20,onClose:Z,onNav:ee,disableSwipe:D,onControls:$,landscape:V,isLowContent:h<10&&!1!==F,onScroll:K,paddingTop:se,paddingLeft:oe,noHistoryManipulation:P}),[O,D,f,l,K,V,oe,Z,ee,$,se,h,P,F]),ae=a((e,o)=>t(M,{heroRenderer:f,itemRenderer:l,showClose:!O,totalItems:h||20,onClick:X,onClose:Z,onNav:ee,disableSwipe:D,onControls:$,landscape:!1,isLowContent:h<10&&!1!==F,onScroll:K,paddingTop:e,paddingLeft:o,noHistoryManipulation:P,useHero:U,modes:le,aspect:te}),[O,D,f,l,K,Z,ee,X,$,h,P,le,te,U,F]),re=e=>{"showAll"===e?z({type:E.setHeaderMode,headerMode:"full"}):(z({type:E.close}),x&&x())},ie=e=>{z({type:E.albumSelect,albumId:e})};return B||c("hr_mv_mobile_filters_sort")?t(d,{quickAlbums:S,selectedId:g,onSelect:ie,contentFocus:J>=0,scrollPosition:Q,topBar:k?k(()=>re(W)):t(y,{titleText:R,onBack:()=>re(W)}),isLandscape:V,buttonMenus:w},ae):t(u,{quickAlbums:S,mode:W,selectedId:g,onShowAll:()=>z({type:E.setHeaderMode,headerMode:"showAll"}),onSelect:ie,contentFocus:J>=0,scrollPosition:Q,topBar:k?k(()=>re(W)):t(y,{titleText:R,onBack:()=>re(W)}),isLandscape:V},ne)};return[()=>{e("default",S),e("mvActions",E)},[e=>(t=e.createElement,o=e.useContext,s=e.useRef,n=e.useReducer,a=e.useCallback,r=e.useEffect,i=e.useMemo),e=>d=e.QuickAlbumsMobileLayout,e=>c=e.featureIsEnabled,e=>(u=e.QuickAlbumsMobileLayout,p=e.LANDSCAPE_MODE_PADDING,m=e.PORTRAIT_MODE_PADDING),e=>b=e.useViewport,e=>(I=e.DEFAULT_CONTROLS,M=e.TileGallery,A=e.DEFAULT_MODES,C=e.GOLDEN_ASPECT),e=>L=e.useBlockScroll,e=>_=e.Environment,e=>f=e.default,e=>h=e.useLocalize]]},["cDcdfi","UuUmq4","-i3PJS","oyVz2k","Bk-fue","vYoxP4","xegF5W","2R4xv2","OMqGt0","0DsHEV"]]);
