(this.$WP=this.$WP||[]).push(["WWE3W5",(e,t)=>{"use strict";var r,o,a,n,l,c,s,i,d,u,p,b,_,m,v,j,f,P,h,k,w,g,N,E,A,D,O=(e,t,r)=>{var o,a,n,l,s,i,d,u,p,b;if(!c("show_foreign_member_profile")||!e)return(null==r||null==(d=r.route)?void 0:d.url)||"";switch(e){case"Review":return u=void 0!==(null==(o=t.provider)?void 0:o.isLocalProvider)&&null!==(null==(a=t.provider)?void 0:a.isLocalProvider),p=!0===(null==(n=t.provider)?void 0:n.isLocalProvider),b=u&&!p?"https://www.tripadvisor.com":"",(null==r||null==(l=r.route)?void 0:l.url)?`${b}${null==r||null==(s=r.route)?void 0:s.url}`:""}return(null==r||null==(i=r.route)?void 0:i.url)||""},y=({object:e,actor:t,isEmbedded:r,displayDate:a})=>{var c,s,i=_(a?"ui_header_link":"ui_link","_1r_My98y",{verified:!!t&&t.isVerified}),d={0:i,1:O(null==e?void 0:e.__typename,e,t),2:P(D(t)),3:a?w(a):null,4:"Repost"===(null==e?void 0:e.__typename)?null==e||null==(c=e.repostedObject)||null==(s=c.media)?void 0:s.length:null==e?void 0:e.numPhotos},u=t&&t.userId,p=e.repostedObject?e.repostedObject.__typename:e.__typename,m=a&&a.length>0?((e,t)=>{switch(e){case"Review":return n("member_event_on_review_with_date",t);case"RoomTip":return n("member_event_on_tip_with_date",t);case"Photo":return n("member_event_on_photo_with_date",t);case"ApiLocationTopic":return n("member_event_on_question_with_date",t)}return""})(p,d):((e,t,r,o)=>{if(r.repostedObject)switch(e){case"Review":return n("member_event_reposted_review",t);case"Photo":return n("member_event_reposted_photo",t);case"MediaBatch":return n("member_event_reposted_photo_v2",t);case"Video":return n("member_event_reposted_video",t);case"ForumPost":return n("member_event_reposted_forumpost",t);case"LinkPost":return n("member_event_reposted_linkpost",t);case"Trip":return n("member_event_reposted_Trip",t);case"ApiLocationTopic":return`<a class="${t[0]}" href="${t[1]}">${t[2]}</a> asked a question`;case"ApiTopicPosting":return`Answer from <a class="${t[0]}" href="${t[1]}">${t[2]}</a>`}else{var a="Trip"===r.__typename&&r.owner&&r.owner.id,l=o&&o.userId;switch(e){case"Review":return n("member_event_on_review",t);case"RoomTip":return n("member_event_on_tip",t);case"Photo":return n("member_event_on_photo",t);case"MediaBatch":return n("feed_batched_photos_header_v2",t);case"Video":return n("member_event_on_video",t);case"ForumPost":return r.id===r.parentId?n("member_event_on_forumpost_question",t):n("member_event_on_forumpost_reply",t);case"LinkPost":return n("member_event_on_linkpost",t);case"Trip":return n(a===l?"member_event_on_Trip":"trips_feed_trip_joined_v2",t);case"ApiLocationTopic":return n("member_event_on_location_topic",t);case"ApiTopicPosting":return n("member_event_on_topic_posting",t)}}return""})(p,d,e,t),v=N({module:"Reviews",action:"review_username_click",context:null===u?"":u});return o(h,null,e=>{var a;return o("div",{className:"_2fxQ4TOx",onClick:t=>{e(t,"userClick",{userId:u}),v()}},r?o(b,{className:i,href:null==t||null==(a=t.route)?void 0:a.url},D(t)):l(m))})},I=({object:e,actor:t})=>{var r=e.publishedDate||e.createdDate;return o(a,null,o(y,{actor:t,object:e}),o("div",{className:"_287pE6AZ"},o("span",{className:"_1_xw04A-"},o(h,null,t=>{var a;return o(b,{href:null==e||null==(a=e.route)?void 0:a.url,className:"ui_link",onClick:e=>t(e,"feedClick")},o(k,{dateStr:r}))}))))},T=({object:e,actor:t})=>{var r=e.publishedDate||e.createdDate;return o(a,null,o(y,{actor:t,object:Object.assign({},e,{__typename:"Review"}),displayDate:r}),t&&o(A,{profile:t}))},L=({object:e,actor:t})=>{var r=e.publishedDate;return o(a,null,o(y,{actor:t,object:Object.assign({},e,{__typename:"RoomTip"}),displayDate:r}),t&&o(A,{profile:t}))},S=({object:e,actor:t})=>{var r=e.publishedDate||e.createdDate||e.uploadDate||e.created;return o(a,null,o(y,{actor:t,object:e,isEmbedded:!0}),r&&o("div",{className:"_287pE6AZ"},o("span",{className:"_1_xw04A-"},o(h,null,t=>{var a;return o(b,{href:null==e||null==(a=e.route)?void 0:a.url,className:"ui_link",onClick:e=>t(e,"feedClick")},o(k,{dateStr:r}))}))))},C=({object:e,actor:t})=>{var r=e.publishedDate||e.uploadDate;return o(a,null,o(y,{actor:t,object:e}),o("div",{className:"_287pE6AZ"},o("span",{className:"_1_xw04A-"},o(h,null,t=>o(i,{name:"Photo_"+e.id,href:null,username:e.userProfile?e.userProfile.username:"",className:"ui_link",key:"Photo_"+e.id,onClick:e=>t(e,"feedClick")},o(k,{dateStr:r}))))))},M=({object:e,actor:t})=>{var r=e.publishedDate||e.uploadDate;return o(a,null,o(y,{actor:t,object:e,displayDate:r}),t&&o(A,{profile:t}))},R=({object:e,actor:t,isEmbedded:r})=>{var n=e.createdDate;return o(a,null,o(y,{actor:t,object:e,isEmbedded:r}),o("div",{className:"_287pE6AZ"},o("span",{className:"_1_xw04A-"},o(k,{dateStr:n}))))},x=({objectProps:{object:e,actor:t}})=>{var r=e.publishedDate||e.uploadDate;return o(a,null,o(y,{actor:t,object:e}),o("div",{className:"_287pE6AZ"},o("span",{className:"_1_xw04A-"},o(h,null,e=>o(b,{className:"ui_link",onClick:t=>e(t,"feedClick")},o(k,{dateStr:r}))))))},F=({object:e,actor:t})=>{var r=e.publishedDate;return o(a,null,o(y,{actor:t,object:e}),o("div",{className:"_287pE6AZ"},o("span",{className:"_1_xw04A-"},o(h,null,t=>{var a;return o(b,{href:null==e||null==(a=e.route)?void 0:a.url,className:"ui_link",onClick:e=>t(e,"feedClick")},o(k,{dateStr:r}))}))))},$=({objectProps:{object:e,actor:t}})=>{var r=e.publishedDate;return o(a,null,o(y,{actor:t,object:e}),o("div",{className:"_287pE6AZ"},o("span",{className:"_1_xw04A-"},o(k,{dateStr:r}))))},U=({object:e,actor:t})=>{var r=e.created;return o(a,null,o(y,{actor:t,object:e}),o("div",{className:"_287pE6AZ"},o("span",{className:"_1_xw04A-"},o(k,{dateStr:r}))))},Z=({objectProps:{object:e,actor:t}})=>{var r=e.created;if(e.owner&&t&&t.userId===e.owner.id)r=e.firstPublished;else{var n=t&&e.collaborators&&e.collaborators.find(e=>e.user&&e.user.id===t.userId);n&&(r=n.publicallyJoined)}return o(a,null,o(y,{actor:t,object:e,isEmbedded:!(t&&t.userId&&e.owner&&e.owner.id)}),o("div",{className:"_287pE6AZ"},o("span",{className:"_1_xw04A-"},o(h,null,t=>{var a;return o(b,{href:null==e||null==(a=e.route)?void 0:a.url,className:"ui_link",onClick:e=>t(e,"feedClick")},o(k,{dateStr:r}))}))))},W=({object:e,actor:t})=>{var r=e.timePublished||e.timeSubmitted;return o(a,null,o(y,{actor:t,object:Object.assign({},e,{__typename:"ApiLocationTopic"}),displayDate:new Date(r).toISOString()}),t&&o(A,{profile:t}))},z=({objectProps:{object:e,actor:t},overflowMenuProps:r})=>{var n=e.timePublished||e.timeSubmitted;return o(a,null,o(y,{actor:t,object:Object.assign({},e,{__typename:"ApiTopicPosting"})}),n?o("div",{className:"_287pE6AZ"},o("span",{className:"_1_xw04A-"},o(k,{dateStr:new Date(n).toISOString()})," | ",o(H,r))):null)},H=({parentProps:e,editUgcModalName:t,onEdit:r,overrideItems:a})=>{var n=t=>o(E,{sectionObject:e.object,sectionObjectForType:e.overflowMenuObjectForType,sectionActor:e.actor,onEdit:t,overrideItems:a,deleteObject:e.deleteObject,untagObject:e.untagObject});return null!=t?o(d,{name:t},n):n(r)},B=e=>{var t,l,c,i=r(`ugcEditModal_${e.object.__typename}_${l=e.object,l.id||l.postId||l.repostId}:${Math.random()}`).current,d=e.object.__typename,b="default",_=!0;if(e.isEmbedded)c=o(S,{object:e.object,actor:e.actor});else switch(e.objectEventType){case"onTopicPosting":b="xtra-small",_=!1}var P,k=e.actor&&!e.actor.isMe?{FOLLOW:!0,UNTAG:!!v(e.object,e.loggedInUserId||void 0)}:{FOLLOW:!1,UNTAG:!!v(e.object,e.loggedInUserId||void 0)},w=g("LinkPost"===d?{linkPostId:e.object.postId,initialUrl:f(e.object.preview.canonicalUrl),initialComment:e.object.comment,initialLocations:((null==(t=e.object.tags)?void 0:t.orderedLocations)||[]).map(({locationId:e,name:t}={})=>e&&t&&{locationId:e,title:t}).filter(Boolean)}:{}),N={parentProps:e,editComponent:null,overrideItems:k};if("Photo"!==d&&"Video"!==d||(P=o(u,null,t=>o(j,{modalName:i,mediaObject:e.object,onSubmit:()=>{t({node:n("ugc_post_updated")})}})),N={parentProps:e,editComponent:P,overrideItems:k,editUgcModalName:i}),"LinkPost"===d&&(N={parentProps:e,editComponent:null,overrideItems:k,onEdit:w}),e.isEmbedded)c=o(S,{object:e.object,actor:e.actor});else switch(e.objectEventType){case"onReview":c=o(I,{object:e.object,actor:e.actor});break;case"onFullReview":c=o(T,{object:e.object,actor:e.actor});break;case"onRoomTip":c=o(L,{object:e.object,actor:e.actor});break;case"onPhoto":c=o(C,{object:e.object,actor:e.actor});break;case"onFullPhoto":c=o(M,{object:e.object,actor:e.actor});break;case"onMediaBatch":c=o(R,{object:e.object,actor:e.actor,isEmbedded:e.isEmbedded});break;case"onVideo":c=o(p,null,({route:t})=>o(x,{objectProps:e,geoScope:parseInt(t.geo,10)}));break;case"onForumPost":c=o(F,{object:e.object,actor:e.actor});break;case"onLinkPost":c=o(p,null,({route:t})=>o($,{objectProps:e,geoScope:parseInt(t.geo,10)}));break;case"onRepost":c=o(U,{object:e.object,actor:e.actor});break;case"onTrip":c=o(p,null,({route:t})=>o(Z,{objectProps:e,geoScope:parseInt(t.geo,10)}));break;case"onLocationTopic":c=o(W,{object:e.object,actor:e.actor});break;case"onTopicPosting":c=o(z,{objectProps:e,overflowMenuProps:N});break;default:m.error("objectEventRender Error - object is required.")}return o("div",{className:"_310S4sqz"},!e.isEmbedded&&e.renderAvatar&&o(h,null,t=>{var r;return o(s,{photo:null==(r=e.actor)?void 0:r.avatar,display:"inline",target:"_self",href:O("onFullReview"===e.objectEventType?"Review":null,e.object,e.actor),withBorder:!0,onClick:r=>{var o;return t(r,"userClick",{userId:null==(o=e.actor)?void 0:o.userId})},size:b})}),o("div",{className:"_2uYWQXeO"},e.renderMemberActions?o("div",{className:"_3TMaHs5O"},!e.isEmbedded&&o(a,null,P,_&&o(H,Object.assign({},N,{overrideItems:k})))):o("div",{className:"_3TMaHs5O"}),c))},V={isEmbedded:!1,displayDate:""},q={};return[()=>{B.defaultProps={deleteObject:null,isEmbedded:!1,displayDate:"",renderMemberActions:!0,renderAvatar:!0},y.defaultProps=V,I.defaultProps=V,T.defaultProps=V,L.defaultProps=V,C.defaultProps=V,M.defaultProps=V,R.defaultProps=V,x.defaultProps=V,F.defaultProps=V,$.defaultProps=V,U.defaultProps=V,S.defaultProps=V,Z.defaultProps=V,W.defaultProps=V,z.defaultProps=V,e("default",q),e("MemberEventOnObjectBlock",B)},[e=>(r=e.useRef,o=e.createElement,a=e.Fragment),e=>(n=e.localize,l=e.unescaped),e=>c=e.featureIsEnabled,e=>s=e.Avatar,e=>i=e.DeprecatedModalLink,e=>d=e.Opener,e=>u=e.Toaster,e=>(p=e.RouteConsumer,b=e.Link),e=>_=e.default,e=>m=e.default,e=>v=e.DisplayUntagIcon,e=>j=e.EditMediaModal,e=>f=e.default,e=>P=e.escapeHtml,e=>h=e.InteractionLogger,e=>(k=e.ContentDisplayDate,w=e.getDisplayDate),e=>g=e.useLinkUploader,e=>N=e.useGARecordCallback,e=>E=e.SectionOverflowMenu,e=>(A=e.MemberHeaderStats,D=e.getDisplayName)]]},["cDcdfi","535agn","-i3PJS","Hgrhyo","HKQFPT","pT-O8u","t1LGYH","N4pTU2","jSLlaY","4LU1Ax","zrL722","Qsot8_","dROhDJ","WkP2XE","pZzSdK","OiNFvE","VXzhcp","fsml46","ce1YGz","3fnomI"]]);
